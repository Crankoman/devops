# Домашнее задание к занятию «Микросервисы: принципы»

Вы работаете в крупной компании, которая строит систему на основе микросервисной архитектуры.
Вам как DevOps-специалисту необходимо выдвинуть предложение по организации инфраструктуры для разработки и эксплуатации.

## Задача 1: API Gateway 

Предложите решение для обеспечения реализации API Gateway. 
Составьте сравнительную таблицу возможностей различных программных решений. На основе таблицы сделайте выбор решения.

Решение должно соответствовать следующим требованиям:
- маршрутизация запросов к нужному сервису на основе конфигурации,
- возможность проверки аутентификационной информации в запросах,
- обеспечение терминации HTTPS.

Обоснуйте свой выбор.

<--

| Функционал                                                      | Nginx | Kong | HAProxy |
|-----------------------------------------------------------------|-------|------|---------|
| маршрутизация запросов к нужному сервису на основе конфигурации | +     | +    | +       |
| возможность проверки аутентификационной информации в запросах   | +     | +    | +       |
| обеспечение терминации HTTPS                                    | +     | +    | +       |

Выбор:

Nginx - самый простой, быстрый и менее требовательный к ресурсам выбор. 

---

## Задача 2: Брокер сообщений

Составьте таблицу возможностей различных брокеров сообщений. 
На основе таблицы сделайте обоснованный выбор решения.

Решение должно соответствовать следующим требованиям:
- поддержка кластеризации для обеспечения надёжности,
- хранение сообщений на диске в процессе доставки,
- высокая скорость работы,
- поддержка различных форматов сообщений,
- разделение прав доступа к различным потокам сообщений,
- простота эксплуатации.

Обоснуйте свой выбор.

<--

| Функционал                                            | RabbitMQ | Kafka |
|-------------------------------------------------------|----------|-------|
| поддержка кластеризации для обеспечения надёжности    | +        | +     |
| хранение сообщений на диске в процессе доставки       | +        | +     |
| высокая скорость работы                               | +        | +     |
| поддержка различных форматов сообщений                | +        | +     |
| разделение прав доступа к различным потокам сообщений | +        | +     |
| простота эксплуатации                                 | +        | -     |

Выбор:

RabbitMQ - менее требователен к ресурсам, данное решение проще поддерживать так требования к реализации логики на стороне клиента меньше.
Хотя и RabbitMQ и сложнее масштабировать и высокая скорость работы сохраняется на небольших объемах, в большинстве случаев этого хватает.

---